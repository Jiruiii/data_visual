{% extends "base.html" %} {% block content %}
<div class="container">
  <div class="content-container">
    <div class="page-header">
      <h1><i class="fas fa-project-diagram"></i> 進階視覺化分析</h1>
      <p>使用 Sankey 圖和 Treemap 進行深度資料探索</p>
    </div>

    <div class="chart-container">
      <h3 class="chart-title">
        <i class="fas fa-fire"></i> 熱力圖：各產業 × 攻擊類型的平均財務損失
      </h3>

      <div class="alert alert-primary">
        <h6><i class="fas fa-info-circle"></i> 什麼是熱力圖？</h6>
        <p>
          熱力圖使用<strong>顏色深淺</strong>來表示數值大小，非常適合展示<strong>二維矩陣資料</strong>。
          紅色越深表示財務損失越高，綠色表示損失較低。
        </p>
        <p class="mb-0">
          <strong>本圖呈現：</strong
          >橫軸是攻擊類型，縱軸是目標產業，每個格子的顏色代表該組合的平均財務損失。
          可以快速識別「哪些產業面對哪些攻擊最脆弱」。
        </p>
      </div>

      <!-- Statistics Cards -->
      <div id="heatmap-stats" class="mb-3" style="display: none"></div>

      <div id="heatmap-chart" class="loading">
        <div class="spinner-border" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
      </div>

      <div class="mt-4">
        <h6><i class="fas fa-eye"></i> 從熱力圖可以觀察到：</h6>
        <ul>
          <li>
            <strong>高風險組合：</strong>
            紅色區域代表「產業-攻擊」的高損失組合，例如金融業 ×
            勒索軟體可能造成巨額損失
          </li>
          <li>
            <strong>產業脆弱性：</strong>
            某一行（產業）如果多數格子偏紅，表示該產業容易受到多種攻擊的高損失影響
          </li>
          <li>
            <strong>攻擊威脅性：</strong>
            某一列（攻擊類型）如果多數格子偏紅，表示該攻擊對多個產業都造成嚴重財務損失
          </li>
          <li>
            <strong>防禦優先級：</strong>
            最紅的區域應該是資安投資的首要目標
          </li>
          <li>
            <strong>空白區域：</strong>
            某些產業-攻擊組合可能沒有資料（顯示為淺色或空白），代表該攻擊不常針對該產業
          </li>
        </ul>

        <div class="alert alert-success mt-3">
          <h6><i class="fas fa-lightbulb"></i> 為什麼選擇熱力圖？</h6>
          <p class="mb-0">
            相比桑基圖的流向展示，熱力圖更適合<strong>量化比較</strong>！
            它可以同時展示所有「產業 × 攻擊」組合的損失金額，
            讓決策者快速找出需要重點防禦的領域。
            而且顏色編碼比數字更直觀，特別適合在管理層簡報中使用。
          </p>
        </div>
      </div>
    </div>

    <!-- Treemap -->
    <div class="chart-container">
      <h3 class="chart-title">
        <i class="fas fa-th"></i> Treemap：目標產業與攻擊類型分布
      </h3>
      <div class="alert alert-primary">
        <h6><i class="fas fa-info-circle"></i> 什麼是 Treemap (樹狀圖)？</h6>
        <p>
          Treemap
          使用<strong>巢狀矩形</strong>來展示層級資料，矩形的大小代表數值的大小。
          非常適合展現<strong>部分與整體的關係</strong>和<strong>階層結構</strong>。
        </p>
        <p class="mb-0">
          <strong>本圖呈現：</strong
          >每個產業遭受的攻擊次數，以及該產業下不同攻擊類型的分布。 大矩形 =
          該產業被攻擊次數多，內部小矩形 = 不同攻擊類型的佔比。
        </p>
      </div>
      <div id="treemap-chart" class="loading">
        <div class="spinner-border" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
      </div>
      <div class="mt-4">
        <h6><i class="fas fa-eye"></i> 從 Treemap 可以觀察到：</h6>
        <ul>
          <li>
            <strong>高風險產業：</strong>
            面積最大的矩形代表被攻擊最多的產業，例如：
            <ul>
              <li>金融業 - 高價值目標，常遭受勒索軟體攻擊</li>
              <li>醫療業 - 敏感資料多，是資料外洩的主要目標</li>
              <li>政府部門 - 關鍵基礎設施，是 APT 攻擊重點</li>
              <li>科技產業 - 技術機密的主要目標</li>
            </ul>
          </li>
          <li>
            <strong>攻擊類型分布：</strong>
            點進每個產業可看到不同顏色的子區塊，代表針對該產業的不同攻擊類型
          </li>
          <li>
            <strong>空間利用：</strong>
            相比長條圖或表格，Treemap 能在有限空間內展示更多層級的資訊
          </li>
          <li>
            <strong>視覺對比：</strong>
            矩形大小的對比非常直觀，一眼就能看出哪些產業需要重點防護
          </li>
        </ul>

        <div class="alert alert-success mt-3">
          <h6><i class="fas fa-lightbulb"></i> 為什麼選擇 Treemap？</h6>
          <p class="mb-0">
            Treemap 最大的優勢是<strong>一圖多訊</strong>（One view, multiple
            insights）！ 它同時展示：(1) 哪個產業被攻擊最多 (2)
            該產業遭受哪些類型攻擊 (3) 各攻擊類型的佔比。
            而且視覺效果超級吸睛，很適合在簡報中使用，讓觀眾快速抓住重點。
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %} {% block extra_js %}
<!-- 引用外部 Plotly.js 圖表程式碼 -->
<script src="{{ url_for('static', filename='js/advanced.js') }}"></script>
{% endblock %}
